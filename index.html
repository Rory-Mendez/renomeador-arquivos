<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Renomeador e Compactador (ZIP)</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>üì¶ Renomeador e Compactador (ZIP)</h1>
        
        <form id="renomearForm">
            
            <label for="idOperadora">ID Operadora:</label>
            <input autocomplete="off" autofocus type="text" id="idOperadora" required placeholder="Ex: TTESEC0002">
            
            <label for="idSite">ID Site:</label>
            <input autocomplete="off" type="text" id="idSite" required placeholder="Ex: PESEC03">

            <label for="temProprietario">Quantos propriet√°rios?</label>
            <select id="temProprietario" onchange="atualizarUIProprietario()" required>
                <option value="" selected disabled>Selecione...</option>
                <option value="1">1</option>
                <option value="2">2</option>
            </select>

            <label for="tipoImovel">Tipo de Im√≥vel:</label>
            <select id="tipoImovel" onchange="mostrarCamposEspecificos()" required>
                <option value="">Selecione o Tipo...</option>
                <option value="PF_Urbano">1. PF - Urbano</option>
                <option value="PF_Rural">2. PF - Rural</option>
                <option value="PJ_Im√≥vel_Urbano">3. PJ Im√≥vel Urbano</option>
                <option value="PJ_Rural">4. PJ Rural</option>
                <option value="PJ_Condom√≠nio">5. PJ Condom√≠nio</option>
            </select>

            <!-- NOVO: campos de nomes (obrigat√≥rios quando "Sim") -->
            <div id="proprietarioFields" style="display:none;">
                <label for="proprietario1">Propriet√°rio 1 (obrigat√≥rio):</label>
                <input autocomplete="off" type="text" id="proprietario1" placeholder="Ex: Marcos">

                <label for="proprietario2">Propriet√°rio 2 (obrigat√≥rio):</label>
                <input autocomplete="off" type="text" id="proprietario2" placeholder="Ex: Ana">
            </div>
            
            <hr>
            
            <div id="documentosPfUrbano">
                <h2>üìÅ Documentos PF - Urbano</h2>
                <p class="doc-descri√ß√£o">Selecione o arquivo correspondente. Alguns itens podem ser duplicados quando "Propriet√°rio = 2".</p>
                
                <table class="doc-table">
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Descri√ß√£o Completa</th>
                            <th>Arquivo Original</th>
                        </tr>
                    </thead>
                    <tbody id="pfUrbanoTbody">
                        <tr>
                            <td>1.1</td>
                            <td data-prefix="1.1_C√≥pia_da_Certid√£o_de_Inteiro_Teor_de_Matr√≠cula_Atualizada_e_da_Certid√£o_Negativa_de_√înus_Reais">Copia da Certid√£o de Inteiro Teor de Matricula Atualizada e da Certid√£o Negativa de √înus Reais</td>
                            <td><input type="file" id="file_1_1"></td>
                        </tr>
                        <tr>
                            <td>1.2.1</td>
                            <td data-prefix="1.2.1_Contratos_de_Compra_e_Venda_firmados_anteriormente">Contratos de Compra e Venda firmados anteriormente</td>
                            <td><input type="file" id="file_1_2_1"></td>
                        </tr>
                        <tr>
                            <td>1.2.2</td>
                            <td data-prefix="1.2.2_Hist√≥rico_de_IPTU">Hist√≥rico de IPTU</td>
                            <td><input type="file" id="file_1_2_2"></td>
                        </tr>
                        <tr>
                            <td>1.2.3</td>
                            <td data-prefix="1.2.3_Contas_de_consumo">Contas de consumo</td>
                            <td><input type="file" id="file_1_2_3"></td>
                        </tr>
                        <tr>
                            <td>1.2.4</td>
                            <td data-prefix="1.2.4_Declara√ß√£o_dos_vizinhos">Declara√ß√£o dos vizinhos</td>
                            <td><input type="file" id="file_1_2_4"></td>
                        </tr>
                        <tr>
                            <td>1.2.5</td>
                            <td data-prefix="1.2.5_Se_necess√°rio_outros_documentos">Se necess√°rio: outros documentos</td>
                            <td><input type="file" id="file_1_2_5"></td>
                        </tr>
                        <tr>
                            <td>1.3</td>
                            <td data-prefix="1.3_Certid√£o_de_Inexist√™ncia_de_Matr√≠cula_expedida_pelo_Cart√≥rio_competente">Certid√£o de Inexist√™ncia de Matr√≠cula expedida pelo Cart√≥rio competente</td>
                            <td><input type="file" id="file_1_3"></td>
                        </tr>
                        <tr>
                            <td>1.4</td>
                            <td data-prefix="1.4_Comprovante_de_IPTU_atualizado">Comprovante de IPTU atualizado</td>
                            <td><input type="file" id="file_1_4"></td>
                        </tr>
                        <tr>
                            <td>1.5</td>
                            <td data-prefix="1.5_Certid√£o_Negativa_de_IPTU">Certid√£o Negativa de IPTU</td>
                            <td><input type="file" id="file_1_5"></td>
                        </tr>

                        <tr>
                            <td>2.1</td>
                            <td data-prefix="2.1 Copia do documento de identifica√ß√£o pessoal com foro legalmente aceitos">
                                <span class="base-desc">Copia do documento de identifica√ß√£o pessoal com foro legalmente aceitos</span>
                                <span class="owner-label"></span>
                                <span class="doc-toggles">
                                <button type="button" class="btn-doc active" data-tipo="CNH">CNH</button>
                                <button type="button" class="btn-doc" data-tipo="RG">RG</button>
                                </span>
                            </td>
                            <td><input type="file" id="file_2_1"></td>
                        </tr>
                        <tr>
                            <td>2.2</td>
                            <td data-prefix="2.2 2.2 Comprovante de endere√ßo">Comprovante de endere√ßo</td>
                            <td><input type="file" id="file_2_2"></td>
                        </tr>
                        <tr>
                            <td>2.3</td>
                            <td data-prefix="2.3 Comprovante banc√°rio">Comprovante banc√°rio</td>
                            <td><input type="file" id="file_2_3"></td>
                        </tr>
                        <tr>
                            <td>2.4</td>
                            <td data-prefix="2.4 Certid√£o de Casamento e/ou Nascimento Atualizadas">Certid√£o de Casamento e/ou Nascimento Atualizadas</td>
                            <td><input type="file" id="file_2_4"></td>
                        </tr>
                        <tr>
                            <td>2.5</td>
                            <td data-prefix="2.5 Certid√£o Negativa de D√©bitos Tribut√°rios Municipais">Certid√£o Negativa de D√©bitos Tribut√°rios Municipais</td>
                            <td><input type="file" id="file_2_5"></td>
                        </tr>
                        <tr>
                            <td>2.6</td>
                            <td data-prefix="2.6 Certid√£o Negativa de D√©bitos Tribut√°rios Estaduais">Certid√£o Negativa de D√©bitos Tribut√°rios Estaduais</td>
                            <td><input type="file" id="file_2_6"></td>
                        </tr>
                        <tr>
                            <td>2.7</td>
                            <td data-prefix="2.7 Certid√£o Negativa de D√©bitos Tribut√°rios Federais">Certid√£o Negativa de D√©bitos Tribut√°rios Federais</td>
                            <td><input type="file" id="file_2_7"></td>
                        </tr>
                        <tr>
                            <td>2.8</td>
                            <td data-prefix="2.8 Certid√£o de Distribui√ß√£o de A√ß√µes Criminais, na jurisdi√ß√£o Estadual">Certid√£o de Distribui√ß√£o de A√ß√µes Criminais, na jurisdi√ß√£o Estadual</td>
                            <td><input type="file" id="file_2_8"></td>
                        </tr>
                        <tr>
                            <td>2.9</td>
                            <td data-prefix="2.9 Certid√£o de Distribui√ß√£o de A√ß√µes C√≠veis, na jurisdi√ß√£o Estadual">Certid√£o de Distribui√ß√£o de A√ß√µes C√≠veis, na jurisdi√ß√£o Estadual</td>
                            <td><input type="file" id="file_2_9"></td>
                        </tr>
                        <tr>
                            <td>2.10</td>
                            <td data-prefix="2.10 Certid√£o de Distribui√ß√£o de A√ß√µes C√≠veis, na jurisdi√ß√£o Federal">Certid√£o de Distribui√ß√£o de A√ß√µes C√≠veis, na jurisdi√ß√£o Federal</td>
                            <td><input type="file" id="file_2_10"></td>
                        </tr>
                        <tr>
                            <td>2.11</td>
                            <td data-prefix="2.11 Certid√£o de Distribui√ß√£o de A√ß√µes Criminais, na jurisdi√ß√£o Federal">Certid√£o de Distribui√ß√£o de A√ß√µes Criminais, na jurisdi√ß√£o Federal</td>
                            <td><input type="file" id="file_2_11"></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="arquivoGeralDiv">
                <label for="arquivoInputGeral">Selecione o Arquivo (Renomea√ß√£o Padr√£o):</label>
                <input type="file" id="arquivoInputGeral">
            </div>

            <div class="loading-message" id="loading">Criando e compactando o arquivo ZIP... Aguarde.</div>

            <button type="button" id="limparFormulario">Limpar Formul√°rio</button>

            <button type="button" id="downloadButton" onclick="iniciarRenomeacao()">Criar Arquivo ZIP com Documentos Renomeados</button>
        </form>
    </div>

    <script src="scripts.js"></script>

</body>
</html>
